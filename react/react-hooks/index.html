<!DOCTYPE HTML><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="description" content="Study hard, day day up!"><meta name="author" content="å¤§è¥¿ç“œ"><meta name="generator" content="Hugo 0.66.0"><title>å¤§è¥¿ç“œğŸ‰</title><link rel="stylesheet" href="/css/main.css"><link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css"><link rel="icon"><!--[if lt IE 9]>
	<script src="js/ie/html5shiv.js"></script>
	<script src="js/ie/html5shiv.jsrespond.min.js"></script>
	<![endif]--></head><body><div id="wrapper"><header id="header" class="alt"><a href="/" class="logo"><strong>å¤§è¥¿ç“œ</strong> <span>ğŸ‰ ğŸ‘¶</span></a><nav><a href="#menu">èœå•</a></nav></header><nav id="menu"><ul class="links"><li><a href="/">ä¸»é¡µ</a></li><li><a href="/stories">æ•…äº‹</a></li><li><a href="/javascripts">javascript</a></li><li><a href="/pages">é¡µé¢å±•ç¤ºæ€»ç»“</a></li><li><a href="/react">react</a></li><li><a href="/vue">vue</a></li><li><a href="/svg">svg</a></li><li><a href="/config">é…ç½®æ±‡æ€»</a></li></ul><ul class="actions vertical"><li><a href="/blogs" class="button special fit">å¼€å§‹å§</a></li><li><a href="/" class="button fit">Log In</a></li></ul></nav><div id="main" class="alt"><section id="one"><div class="inner"><header class="major"><h1></h1><span>Mon, 01 Jan 0001 00:00:00</span></header><h3 id="react-hooks-record">React Hooks Record</h3><blockquote><p>Hook ä½¿ç”¨äº†Jsçš„é—­åŒ…æœºåˆ¶</p></blockquote><h4 id="hookè§„åˆ™">Hookè§„åˆ™</h4><ol><li>åªåœ¨æœ€é¡¶å±‚ä½¿ç”¨ Hook</li><li>ä¸è¦åœ¨æ™®é€šçš„Javascriptå‡½æ•°ä¸­è°ƒç”¨Hook</li><li>useEffect ä¸ä¼šåœ¨æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ‰§è¡Œ</li></ol><h4 id="useeffect">useEffect</h4><blockquote><p>ç­‰ä»·äºclassæ¨¡å¼çš„ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸé›†åˆ componentWillUnMount, componentDidMount, componentDidUpdate</p></blockquote><ol><li><p>useEffectä¼šåœ¨æ¯æ¬¡æ¸²æŸ“<code>ç»“æŸå</code>æ‰§è¡Œ(åœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“åä»¥åŠæ¯æ¬¡æ›´æ–°åéƒ½ä¼šæ‰§è¡Œ), åœ¨æ‰§è¡Œå½“å‰effectçš„æ—¶å€™ä¼šå¯¹ä¸Šä¸€ä¸ªeffectè¿›è¡Œæ¸…é™¤</p></li><li><p>useEffectåˆ†æ— éœ€æ¸…é™¤çš„effectå’Œéœ€è¦æ¸…é™¤çš„effect, éœ€è¦æ¸…é™¤çš„effectéœ€è¦è¿”å›ä¸€ä¸ªå‡½æ•°, effect çš„æ¸…é™¤é˜¶æ®µåœ¨æ¯æ¬¡é‡æ–°æ¸²æŸ“æ—¶éƒ½ä¼šæ‰§è¡Œï¼Œè€Œä¸æ˜¯åªåœ¨å¸è½½ç»„ä»¶çš„æ—¶å€™æ‰§è¡Œä¸€æ¬¡</p></li><li><p>ä½¿ç”¨å¤šä¸ªeffectå®ç°<code>å…³æ³¨ç‚¹åˆ†ç¦»</code>, éœ€è¦çš„æ—¶å€™, å°†ä¸åŒçš„é€»è¾‘åˆ†ç¦»å¼€</p></li><li><p>ç‰¹å®šåœºæ™¯ä¸‹è®¾ç½®éœ€è¦ä¾èµ–çš„propsæ¥é€‰æ‹©æ€§çš„æ‰§è¡Œeffect</p></li><li><p><code>useEffect</code> åªæ˜¯åº•å±‚ APIï¼Œæœªæ¥ä¸šåŠ¡æ¥è§¦åˆ°çš„æ˜¯æ›´å¤šå°è£…åçš„ä¸Šå±‚ APIï¼Œæ¯”å¦‚ <code>useFetch</code> æˆ–è€… <code>useTheme</code>ï¼Œå®ƒä»¬ä¼šæ›´å¥½ç”¨ã€‚</p></li><li><p>æ€»ç»“ä¸€ä¸‹éœ€è¦ç”¨åˆ°å‰¯ä½œç”¨hookçš„åœºæ™¯</p><ul><li>DOMæ“ä½œ</li><li>Localstorage</li><li>fetchæ•°æ®è¯·æ±‚</li><li>å®šæ—¶å™¨ã€è®¡æ—¶å™¨</li><li>&hellip;</li></ul></li></ol><blockquote><p>warning æœªæ¥ç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šåœ¨æ„å»ºæ—¶è‡ªåŠ¨æ·»åŠ ç¬¬äºŒä¸ªå‚æ•°ã€‚</p></blockquote><h4 id="usereducer">useReducer</h4><blockquote><p>useEffectçš„å…„å¼Ÿå‡½æ•° åœ¨useEffectæ— æ³•è§£å†³çš„è®¡æ—¶å™¨é—®é¢˜æ—¶, å¯ä»¥è€ƒè™‘useReducerå‡½æ•°, å°†æ›´æ–°å’ŒåŠ¨ä½œè§£è€¦</p></blockquote><p>ä¸Šä»£ç :</p><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#66d9ef">const</span> [<span style="color:#a6e22e">state</span>, <span style="color:#a6e22e">dispatch</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">useReducer</span>(<span style="color:#a6e22e">reducer</span>, <span style="color:#a6e22e">initialState</span>);
<span style="color:#66d9ef">const</span> { <span style="color:#a6e22e">count</span>, <span style="color:#a6e22e">step</span> } <span style="color:#f92672">=</span> <span style="color:#a6e22e">state</span>;

<span style="color:#a6e22e">useEffect</span>(() =&gt; {
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(() =&gt; {
    <span style="color:#a6e22e">dispatch</span>({ <span style="color:#a6e22e">type</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;tick&#34;</span> }); <span style="color:#75715e">// Instead of setCount(c =&gt; c + step);
</span><span style="color:#75715e"></span>  }, <span style="color:#ae81ff">1000</span>);
  <span style="color:#66d9ef">return</span> () =&gt; <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">id</span>);
}, [<span style="color:#a6e22e">dispatch</span>]);
</code></pre></div><h4 id="usecallback">useCallback</h4><p>ä¸€å¥è¯æè¿°è¿™ä¸ªå‡½æ•°å¹²çš„äº‹æƒ…:</p><p>é€šè¿‡useCallbackå°è£…çš„å‡½æ•°, å¯ä»¥ç›´æ¥ä½œä¸ºä¾èµ–ä¼ å…¥useEffect, useEffectåªè¦å…³å¿ƒå–æ•°å‡½æ•°æ˜¯å¦å˜åŒ–, è€Œå–æ•°å‚æ•°çš„å˜åŒ–åœ¨useCallbackæ—¶å¤„ç†, ä¾èµ–çš„å‚æ•°å˜åŒ–æ—¶, useCallbackä¼šè¿”å›æ–°çš„å‡½æ•°å¼•ç”¨, æ­¤æ—¶è§¦å‘effectçš„æ‰§è¡Œ, å†é…åˆ<a href="https://github.com/facebook/react/issues/14920"><code>eslint-plugin-react-hooks</code></a>æ’ä»¶çš„æ‰«æ, å°±èƒ½åšåˆ° <code>æœ‰æ•ˆä¾èµ–, é€»è¾‘å†…èš, æ˜“äºå¼€å‘è€…ç»´æŠ¤</code></p></div></section></div><footer id="footer"><div class="inner"><ul class="icons"><li><a href="https://www.twitter.com" class="icon alt fa-twitter" target="_blank"><span class="label">Twitter</span></a></li><li><a href="https://www.facebook.com" class="icon alt fa-facebook" target="_blank"><span class="label">Facebook</span></a></li><li><a href="https://www.instagram.com" class="icon alt fa-instagram" target="_blank"><span class="label">Instagram</span></a></li><li><a href="https://www.github.com" class="icon alt fa-github" target="_blank"><span class="label">GitHub</span></a></li><li><a href="https://www.linkedin.com" class="icon alt fa-linkedin" target="_blank"><span class="label">LinkedIn</span></a></li></ul><ul class="copyright"><li>&copy; Company Name</li><li>Design: <a href="https://www.html5up.net">HTML5 UP</a></li></ul></div></footer></div><script src="/js/jquery.min.js"></script><script src="/js/jquery.scrolly.min.js"></script><script src="/js/jquery.scrollex.min.js"></script><script src="/js/skel.min.js"></script><script src="/js/util.js"></script><script src="/js/vanilla-tilt.min.js"></script><script src="/js/main.js"></script></body></html>